<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
    <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
    <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
    <meta charset="UTF-8">
    <title>登入</title>
    <style>
        div {
            margin-top: 250px;
        }

        fieldset {
            width: 20%;
            background-color: pink;
        }

        legend {
            font-size: 30px;
            padding-left: 0px;
        }

    </style>
</head>
<body>
<center>
    <div>
        <form action="">
            <fieldset>
                <legend>登入資料</legend>
                <p>帳號<input type="text" name="admin" placeholder="帳號"></p>

                <p> 密碼<input type="password" name="password" placeholder="密碼">
                </p>
                <button type="button" class="btn btn-danger" @click="login()">登入</button>
                <!--讓註冊按鈕有超連結-->
                <button type="button" class="btn btn-danger" onclick=location.href='/register.html'
                >註冊
                </button>
            </fieldset>
        </form>
    </div>
</center>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vue/2.6.14/vue.js"></script>
<script>
    let v = new Vue({
        el: "form",
        data: {
            un: "",
            pw: ""
        },
        methods: {
            login: function () {
                let data = new FormData(document.querySelector("form"));
                axios.post("/login", data).then(function (response) {
                    if (response.data == 1) {
                        alert("登入成功");
                        location.href = "cc.html";
                    } else if (response.data == 2) {
                        alert("帳號錯誤");
                    } else {
                        alert("密碼錯誤");
                    }
                })
            }
        }

    })
</script>
</body>
</html>